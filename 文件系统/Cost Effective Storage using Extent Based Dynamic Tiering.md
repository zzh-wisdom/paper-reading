# Cost Effective Storage using Extent Based Dynamic Tiering

将SSD与SAS/FC和/或SATA磁盘相结合的多层系统减轻了SSD的资本成本负担，同时受益于其优越的I/O性能/单位成本和低功耗。尽管有基于ssd的商业多层解决方案，但为每层配置这样的最佳设备数量，以最小的成本实现性能目标仍然是一个挑战。此外，**这些解决方案没有利用机会动态整合负载并降低电力/运行成本**。

我们的基于范围的动态分层解决方案，EDT，通过其设计的两个关键组件解决了这些限制。计算机配置顾问EDT-CA将以最低成本确定购买和安装足够的存储设备，以满足给定的工作负载，而动态层管理器EDT-DTM将在系统运行时执行动态区段放置，以满足性能要求，同时最小化动态功耗。EDT-CA成本最小化的关键是它能够模拟EDT-DTM所提供的动态范围放置。EDT-DTM整体有效性的关键在于，它能够在可行的情况下在层内整合负载，快速响应工作负载中的意外变化，并仔细控制由于范围迁移而导致的开销。我们使用生产工作负载的结果表明，与仅使用sas的存储系统以及其他更简单的基于范围的分层方法相比，EDT具有更低的资本和运营成本，消耗更少的电力，并提供类似或更好的性能。

## 引言

企业存储系统努力以最小的资本和运营成本提供性能和可靠性。这些系统使用高性能的磁盘驱动器（例如，SCSI/SAS/FC）来提供这种性能。然而，提供每个GByte的优越的随机访问能力的固态硬盘（ssd）已经变得越来越便宜。另一方面，提供更高成本的SATA驱动器对大容量存储也很有吸引力。仅使用ssd的系统仍然过于昂贵，而那些仅使用SATA构建的系统将不能为大多数企业工作负载提供足够的性能/GByte。包含混合设备的多层系统可以通过仅对需要SSD性能的数据子集使用SSD来提供高性能和更低成本的存储。

为了解决这一挑战，需要两件事：配置工具来帮助构建此类系统，并展示基于客户工作负载的潜在好处，以及存储系统中可以优化数据在存储层中放置的功能。放置应确保主动访问的数据共定位，以最小化延迟，而轻度访问的数据放置最经济。此外，也有机会将数据放在最小的设备上，这些设备可以减少工作负载，同时降低其他设备。目前的产品解决了一些但不是所有这些挑战。确定购买哪种设备的组合仍然是一个难题，通过整合和电力管理来提高运营成本尚未得到解决。

为了解决这些差距，我们开发了一个基于范围的动态分层（EDT）系统，包括： 1)配置顾问工具EDT-CA来计算服务客户工作负载的设备的成本优化混合，2)在配置的动态层管理存储系统中运行的EDTDTM组件，通过动态地将数据（卷的固定大小部分）移动到当前工作负载的最合适的层。EDT-CA的工作方法是模拟层内层的动态放置，这些层提供最低的成本以满足层的I/O需求，从而适当地调整每个层的大小。EDT-DTM监视活动的工作负载，并管理范围的放置和迁移，以实现性能目标，同时在可行的情况下，通过将数据合并到每个层内的更少的设备中，从而优化操作成本。

> 参考价值不大，面向天粒度的调度，更偏向AI预测，提供算法模型
